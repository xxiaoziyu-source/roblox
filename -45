local Translations = {
   --["这里填要替换的英文"] = "这里填中文",
    -- 基础功能

["Search"] = "搜索",

["Information"] = "信息",

["Fun"] = "趣味",

["Automation"] = "自动化",

["Bring Stuff"] = "物品搬运",

["Fishing"] = "钓鱼",

["Teleport"] = "传送",

["Visuals"] = "视觉",

["Local Player"] = "本地玩家",

["Misc"] = "杂项",

["Theme"] = "主题",

["Config"] = "配置",

-- 物品相关

["Pickup All Flowers"] = "全拾花朵",

["Collect All Gold Stacks"] = "全收金堆",

["Auto Crock Pot"] = "自动炖锅",

["Food Choice"] = "食物选择",

["Bring Food To Cook Pot"] = "食物送锅",

["Auto Campfire"] = "自动营火",

["Fuel Type"] = "燃料类型",

["Auto Fill Campfire"] = "自动填火",

["Start Fueling when (Fire HP)"] = "按火生命值添燃料",

["Auto Collect"] = "自动收集",

["Auto Pickup Flowers"] = "自动拾花",

["Auto Collect Coin Stacks"] = "自动收金币堆",

["Auto Open Seed Boxes"] = "自动开种子箱",

["Auto Chest [BETA]"] = "自动宝箱（测试版）",

["Bring Location"] = "搬运位置",

["Loot Mode"] = "战利品模式",

["Loot Radius"] = "战利品半径",

["Chest Delay (sec)"] = "宝箱延迟（秒）",

["Enabled"] = "启用",

-- 种植建造

["Plant Stuff"] = "种植建造",

["Build Radius"] = "建造半径",

["Angle Increment"] = "角度增量",

["Plant/Build Limit"] = "种植/建造限制",

["Plant Saplings in Circle"] = "环形种树苗",

["Build Log Walls in Circle"] = "环形建原木墙",

["Ribs"] = "肋骨",

-- 搬运设置

["Bring Settings"] = "搬运设置",

["Use Freecam for Bring Items"] = "搬运自由视角",

["Bring Method"] = "搬运方式",

["Max Per Item"] = "单物品最大数量",

["Bring Cooldown"] = "搬运冷却",

["No Bring Amount Limit"] = "无搬运数量限制",

["Bring Height"] = "搬运高度",

["Bring Cultists"] = "搬运教徒",

["Cultist Choice"] = "教徒选择",

["Bring Fuel [BETA]"] = "搬运燃料（测试版）",

["Fuel"] = "燃料",

["Bring Logs [BETA]"] = "搬运原木（测试版）",

["Bring Food & Healing"] = "搬运食物与治疗",

["Food & Healing"] = "食物与治疗",

["Bring Gears"] = "搬运齿轮",

["Gears"] = "齿轮",

["Bring Guns & Armor"] = "搬运枪支护甲",

["Guns & Armor"] = "枪支护甲",

["Bring Others"] = "搬运其他物品",

["Others"] = "其他物品",

["Slow"] = "慢速",

["Fast"] = "快速",

["Ultra Fast"] = "超快速",

-- 目标对象

["Player"] = "玩家",

["Workbench"] = "工作台",

["Fire"] = "火堆",

["Nail"] = "钉子",

["FrogBlue"] = "蓝色青蛙",

["FrogPurple"] = "紫色青蛙",

["Wolf"] = "狼",

["Bear"] = "熊",

["Bunny"] = "兔子",

["Arctic Fox"] = "北极狐",

["Mammoth"] = "猛犸象",

["Juggernaut Cultist"] = "主宰信徒",

["Polar Bear"] = "北极熊",

["Alpha Wolf"] = "阿尔法狼",

["Cultist King"] = "教徒国王",

["Meteor Crab"] = "流星蟹",

["油漆刷"] = "油漆刷",

["Simple"] = "简单",

["Safe"] = "安全",

["Mammonth Tusk"] = "猛犸象牙",

["Alpha 狼 Pelt"] = "阿尔法狼皮",

["熊 Corpse"] = "熊尸体",

["Meteor Shard"] = "流星碎片",

["Gold Shard"] = "金碎片",

["Raw Obsidiron Ore"] = "原始黑曜石矿石",

["森林宝石 Fragment"] = "森林宝石碎片",

["Swordfish"] = "剑鱼",

-- 主题列表

["Purple"] = "紫色",

["Galaxy"] = "银河",

["BetterNight"] = "更好的夜晚",

["BetterNight2"] = "更好的夜晚2",

["MagentaOrange"] = "品红橙",

["Purple2"] = "紫色2",

["Galaxy2"] = "银河2",

["Pink"] = "粉色",

["Purple3"] = "紫色3",

["DarkishPink"] = "深粉色",

["Space"] = "太空",

["Galaxy3"] = "银河3",

["NetherWorld"] = "下界",

["Nebula"] = "星云",

["PurpleNight"] = "紫色之夜",

["Aesthetic"] = "美学",

["Aesthetic2"] = "美学2",

["Pastel"] = "马卡龙",

["PurpleClouds"] = "紫云",

["BetterSky"] = "更好的天空",

["BetterNight3"] = "更好的夜晚3",

["Orange"] = "橙色",

["DarkMountains"] = "暗黑山脉",

["FlamingSunset"] = "燃烧的日落",

["NewYork"] = "纽约",

["Aesthetic3"] = "美学3",

["FakeClouds"] = "假云",

["LunarNight"] = " lunar 之夜",

["PitchDark"] = "漆黑",

-- 其他文本

["Close Window"] = "关闭窗口",

["Do you want to close this window? You will not be able to open it again."] = "你确定要关闭此窗口吗？关闭后将无法再次打开。",

["Cancel"] = "取消",

["This tab is empty"] = "此标签页为空",

["Reset Camera [Might Break your camera!]"] = "重置相机 [可能会破坏你的相机！]",

["Please notify me if you need credits (erchodev#0 on discord)"] = "如需署名请通知我（Discord：erchodev#0）",

["Background Color"] = "背景颜色",

["Outline Color"] = "轮廓颜色",

["Text Color"] = "文字颜色",

["Placeholder Text Color"] = "占位符文字颜色",

-- ============== 万圣节模块 ==============

["Bring Pumpkins"] = "获取南瓜",

["Bring Candles"] = "获取蜡烛",

["Open All Chests via Auto Chest"] = "通过自动开宝箱打开所有箱子",

["By opening all chests you have a bigger chance of bringing a lot of halloween candles 🎃"] = "打开所有箱子可提升获取大量万圣节蜡烛的概率 🎃",

["Halloween House TP"] = "万圣节房屋传送",

["Halloween House Choice"] = "万圣节房屋选择",

["传送 to Halloween House"] = "传送至万圣节房屋",

["Refresh Halloween House List"] = "刷新万圣节房屋列表",

["Halloween"] = "万圣节",

["Halloween House Alien"] = "万圣节房屋（外星风格）",

["Open All Chests via全自动Chest"] = "通过全自动宝箱打开所有箱子",

["传送to万圣节House"] = "传送至万圣节房屋",

["Refresh万圣节House List"] = "刷新万圣节房屋列表",

-- ============== 地图/自动功能模块 ==============

["Auto"] = "自动",

["显示地图"] = "显示地图",

["Loops you in circle around the map to let everything load 🔥"] = "让你绕地图循环移动以加载所有内容 🔥",

["Must upgrade the fire constantly or the map won't load!"] = "必须持续升级火堆，否则地图无法加载！",

-- ============== 光环/技能模块 ==============

["Require Hand Check"] = "需要手持工具验证",

["If disabled, it will let all Auras to work without you holding any tool 🔥"] = "若关闭，所有光环功能无需手持工具即可生效 🔥",

["Auto TP to Targets"] = "自动传送至目标",

["Automatically teleports to targets when they are out of range (200 Studs). This is because the 99 Nights devs patched higher range :c"] = "当目标超出200单位范围时自动传送。这是因为99 Nights开发者修复了更大范围的传送功能 :c",

["Aura 范围"] = "光环范围",

["Tree Aura"] = "树木光环",

["矿石光环"] = "矿石光环",

["If disabled, it will let all光环s to work without you holding any tool 🔥"] = "若关闭，所有光环功能无需手持工具即可生效 🔥",

-- ============== 树木模块 ==============

["自动砍树"] = "自动砍树",

["自动砍树类型"] = "自动砍树类型",

["小树, Dead..."] = "小树、枯树...",

["自动砍树范围"] = "自动砍树范围",

["自动种树苗"] = "自动种树苗",

["砍伐可视化"] = "砍伐可视化",

-- ============== 驯服模块 ==============

["Taming"] = "驯服",

["Equip Zookeeper class"] = "装备动物管理员职业",

["Bring Carrots"] = "获取胡萝卜",

["Bring Steak"] = "获取牛排",

["100% Taming Success Rate"] = "100%驯服成功率",

["Instant Taming Minigame"] = "驯服小游戏秒过",

-- ============== 界面基础模块 ==============

["虚空"] = "虚空",

["OO汉化"] = "OO汉化",

["搜索"] = "搜索",

["信息"] = "信息",

["趣味"] = "趣味",

["物品获取"] = "物品获取",

["主要"] = "主要",

["性能"] = "性能",

["传送"] = "传送",

["视觉"] = "视觉",

["本地玩家"] = "本地玩家"
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(3)
        end
    end
end

task.wait(2)

setupTranslationEngine()

local success, err = pcall(function()
--这下面填加载外部脚本
loadstring(game:HttpGet("https://raw.githubusercontent.com/xxiaoziyu-source/roblox/a304ee2b7344d37bbef7119436825929212fdaa1/%E8%99%9A%E7%A9%BA%E6%B1%89%E5%8C%96", true))()



end)

if not success then
    warn("加载失败:", err)
end
